import serial,time

ESP_BYTE0 = 34
ESP_BYTE1 = 105
RF_KILL = 0x3F
ACK = 0x10
ASCII = 0x11
EXPT_WAKE = 0x27
EXPT_DONE = 0x28
KILL_KEYS = b'FORBESavePA15213'
ASCII_MSG = b'YINZ IS JAGOFFS!'

GET_TELEM_ASCII = 0xC8

hwid0 =65
hwid1 = 66
seqnum0 = 67
seqnum1 = 68
dest = 0x2a
serWrite0 = serial.Serial('/dev/ttyUSB1', 115200);
#serRead0 = serial.Serial('/dev/ttyACM1', 115200);

total_len = 128

expt_ascii_msg = bytearray([ESP_BYTE0, ESP_BYTE1, total_len, hwid0, hwid1,
seqnum0, seqnum1, dest, ASCII,
0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9,0xa,0xb, 0xc,
0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9,0xa,0xb, 0xc,
0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9,0xa,0xb, 0xc,
0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9,0xa,0xb, 0xc,
0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9,0xa,0xb, 0xc,
0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9,0xa,0xb, 0xc,
0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9,0xa,0xb, 0xc,
0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9,0xa,0xb, 0xc,
0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9,0xa,0xb, 0xc,
0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9,0xa,0xb, 0xc,
0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9,0xa,0xb, 0xc,
0xd,0xe])

while(1):
  serWrite0.write(expt_ascii_msg)
  time.sleep(2)
